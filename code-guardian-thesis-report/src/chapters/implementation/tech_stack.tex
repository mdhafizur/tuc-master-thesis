\section{Technology Stack and Rationale}
\label{sec:tech-stack}

Code Guardian is implemented as a Visual Studio Code extension that performs security analysis and repair suggestion \emph{locally} on the developer machine. The design goal is to integrate vulnerability detection into the IDE workflow while maintaining a strict \textit{no source-code exfiltration} property (R5) and practical responsiveness for interactive use (R6).

\subsection*{VS Code Extension (TypeScript)}

The extension is implemented in \textbf{TypeScript} using the VS Code Extension API \cite{vscodeExtensionApi}. Core responsibilities include registering editor events (on-change and on-command triggers), mapping analysis findings to VS Code diagnostics, and exposing quick fixes through code actions. The extension also provides two WebView-based interfaces: an interactive analysis view for selected code and a workspace security dashboard that aggregates findings across the project. Where IDE integration benefits from standardized editor tooling, the Language Server Protocol provides a relevant reference point for diagnostics-style interactions in modern IDEs \cite{languageServerProtocol}.

\subsection*{Local LLM Inference via Ollama}

All model inference is performed through \textbf{Ollama} running on \texttt{localhost:11434} \cite{ollamaDocs}. Code Guardian supports multiple local model families (e.g., \texttt{qwen3}, \texttt{gemma3}, \texttt{CodeLlama}) and allows switching models at runtime through settings. Requests are configured for low-temperature decoding to reduce randomness and improve schema adherence, and retry logic with exponential backoff is applied to handle transient failures (e.g., model warm-up, timeouts).

\subsection*{Retrieval-Augmented Generation (RAG)}

Optional RAG is implemented with \textbf{LangChain} and a local vector index \cite{langchainDocs}. Security knowledge entries (CWE patterns, OWASP Top 10 guidance, selected CVE summaries, and JavaScript/TypeScript secure coding notes) are embedded using a lightweight local embedding model (\texttt{nomic-embed-text} via Ollama) and stored in an \textbf{HNSW} vector store. At analysis time, relevant knowledge snippets are retrieved and injected into the prompt to ground the modelâ€™s reasoning and reduce hallucinations (R1--R3).

\subsection*{Dynamic Vulnerability Knowledge Updates}

The knowledge base is designed to be refreshable. Code Guardian supports updating OWASP and CVE information and persists cached data on disk. Importantly, only public vulnerability metadata is fetched; source code and extracted context remain local.

\subsection*{Performance Mechanisms}

To support near-real-time feedback, the system uses (i) debounced analysis triggers during editing, (ii) a lightweight function-level analysis mode for continuous feedback, and (iii) an LRU-style analysis cache that avoids repeated model calls for unchanged snippets. These mechanisms directly support R6 while keeping the user experience consistent.

\subsection*{Engineering Selection Criteria}

Technology choices were guided by four practical criteria:
\begin{itemize}
  \item \textbf{Local deployability:} all core components must run on a developer workstation without managed cloud dependencies.
  \item \textbf{Operational transparency:} outputs and failure modes must be inspectable for debugging and thesis reproducibility.
  \item \textbf{Incremental integration:} the solution should align with VS Code-native diagnostics and command workflows instead of requiring a separate toolchain.
  \item \textbf{Replaceability:} model backends and retrieval components should be swappable without redesigning the full extension.
\end{itemize}

These criteria explain the concrete stack decisions: Ollama for local model serving, TypeScript for extension maintainability and VS Code API fit, and local vector retrieval for optional grounding. Together they form a modular but operationally coherent baseline for privacy-preserving IDE security assistance.
